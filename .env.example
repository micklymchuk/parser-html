# HTML RAG Pipeline Environment Configuration
# Copy this file to .env and modify the values as needed

# =============================================================================
# Pipeline Configuration
# =============================================================================

# Model Configuration
RAG_HTML_PRUNER_MODEL=zstanjj/HTML-Pruner-Phi-3.8B
RAG_EMBEDDING_MODEL=paraphrase-multilingual-mpnet-base-v2

# Processing Configuration
RAG_MAX_CHUNK_SIZE=512
RAG_PREFER_BASIC_CLEANING=false
RAG_CYRILLIC_DETECTION_THRESHOLD=0.2

# Database Configuration
RAG_COLLECTION_NAME=html_documents
RAG_PERSIST_DIRECTORY=./chroma_db

# =============================================================================
# Logging Configuration
# =============================================================================

RAG_LOG_LEVEL=INFO
RAG_LOG_FILE=logs/pipeline.log
RAG_LOG_ROTATION=10 MB

# =============================================================================
# Performance Configuration
# =============================================================================

RAG_BATCH_SIZE=32
RAG_NUM_WORKERS=4
RAG_ENABLE_METRICS=true

# Device Configuration (cpu, cuda, mps)
RAG_DEVICE=cpu

# =============================================================================
# Wayback Machine Configuration
# =============================================================================

WAYBACK_REQUIRE_METADATA=false
WAYBACK_FORCE_BASIC_CLEANING=true
WAYBACK_MIN_CONTENT_LENGTH=100

# =============================================================================
# Search Configuration
# =============================================================================

SEARCH_DEFAULT_N_RESULTS=10
SEARCH_SIMILARITY_THRESHOLD=0.0
SEARCH_ENABLE_METADATA_FILTER=true

# =============================================================================
# Development Configuration
# =============================================================================

# Set to true for development mode
DEV_MODE=false

# Enable debug logging
DEBUG=false

# Development database (separate from production)
DEV_COLLECTION_NAME=dev_html_documents
DEV_PERSIST_DIRECTORY=./dev_chroma_db

# =============================================================================
# Security Configuration
# =============================================================================

# API Keys (if needed for external services)
# HUGGINGFACE_API_KEY=your_huggingface_key_here
# OPENAI_API_KEY=your_openai_key_here

# =============================================================================
# Docker Configuration
# =============================================================================

# Docker-specific settings
DOCKER_DATA_DIR=/app/data
DOCKER_LOGS_DIR=/app/logs

# =============================================================================
# Testing Configuration
# =============================================================================

# Test database configuration
TEST_COLLECTION_NAME=test_collection
TEST_PERSIST_DIRECTORY=./test_chroma_db

# =============================================================================
# Monitoring and Analytics
# =============================================================================

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Metrics collection interval (seconds)
METRICS_COLLECTION_INTERVAL=60

# =============================================================================
# Cache Configuration
# =============================================================================

# Model cache directory
MODEL_CACHE_DIR=./model_cache

# Enable model caching
ENABLE_MODEL_CACHE=true

# =============================================================================
# Advanced Configuration
# =============================================================================

# Maximum number of documents to process in a single batch
MAX_BATCH_SIZE=1000

# Timeout for individual document processing (seconds)
DOCUMENT_PROCESSING_TIMEOUT=300

# Maximum file size for processing (bytes)
MAX_FILE_SIZE=10485760

# =============================================================================
# Cloud Configuration (if using cloud services)
# =============================================================================

# AWS Configuration
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-west-2

# Google Cloud Configuration
# GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json
# GOOGLE_CLOUD_PROJECT=your-project-id

# Azure Configuration
# AZURE_SUBSCRIPTION_ID=your_subscription_id
# AZURE_RESOURCE_GROUP=your_resource_group

# =============================================================================
# Optional: Custom Model Configuration
# =============================================================================

# Custom embedding model configuration
# CUSTOM_EMBEDDING_MODEL_PATH=./models/custom_embedding_model
# CUSTOM_HTML_PRUNER_MODEL_PATH=./models/custom_html_pruner

# Model inference settings
# EMBEDDING_BATCH_SIZE=16
# HTML_PRUNER_MAX_LENGTH=2048

# =============================================================================
# Database Connection (if using external vector database)
# =============================================================================

# ChromaDB HTTP client configuration
# CHROMA_HOST=localhost
# CHROMA_PORT=8000
# CHROMA_SSL=false

# Alternative vector database configuration
# VECTOR_DB_TYPE=chroma  # Options: chroma, pinecone, weaviate, qdrant
# VECTOR_DB_URL=your_vector_db_url
# VECTOR_DB_API_KEY=your_vector_db_api_key